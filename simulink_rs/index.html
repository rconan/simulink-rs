<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Rust bindings for Simulink C control system"><meta name="keywords" content="rust, rustlang, rust-lang, simulink_rs"><title>simulink_rs - Rust</title><link rel="stylesheet" type="text/css" href="../normalize.css"><link rel="stylesheet" type="text/css" href="../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../light.css"  id="themeStyle"><link rel="stylesheet" type="text/css" href="../dark.css" disabled ><link rel="stylesheet" type="text/css" href="../ayu.css" disabled ><script id="default-settings"></script><script src="../storage.js"></script><script src="../crates.js"></script><noscript><link rel="stylesheet" href="../noscript.css"></noscript><link rel="icon" type="image/svg+xml" href="../favicon.svg">
<link rel="alternate icon" type="image/png" href="../favicon-16x16.png">
<link rel="alternate icon" type="image/png" href="../favicon-32x32.png"><style type="text/css">#crate-search{background-image:url("../down-arrow.svg");}</style></head><body class="rustdoc mod"><!--[if lte IE 8]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="sidebar"><div class="sidebar-menu" role="button">&#9776;</div><a href='../simulink_rs/index.html'><div class='logo-container rust-logo'><img src='../rust-logo.png' alt='logo'></div></a><p class="location">Crate simulink_rs</p><div class="block version"><p>Version 0.1.0</p></div><div class="sidebar-elems"><a id="all-types" href="all.html"><p>See all simulink_rs's items</p></a><div class="block items"><ul><li><a href="#macros">Macros</a></li><li><a href="#traits">Traits</a></li></ul></div><p class="location"></p><div id="sidebar-vars" data-name="simulink_rs" data-ty="mod" data-relpath="../"></div></div></nav><div class="theme-picker"><button id="theme-picker" aria-label="Pick another theme!" aria-haspopup="menu"><img src="../brush.svg" width="18" height="18" alt="Pick another theme!"></button><div id="theme-choices" role="menu"></div></div><script src="../theme.js"></script><nav class="sub"><form class="search-form"><div class="search-container"><div><select id="crate-search"><option value="All crates">All crates</option></select><input class="search-input" name="search" disabled autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"></div><button type="button" class="help-button">?</button>
                <a id="settings-menu" href="../settings.html"><img src="../wheel.svg" width="18" height="18" alt="Change settings"></a></div></form></nav><section id="main" class="content"><h1 class="fqn"><span class="in-band">Crate <a class="mod" href="">simulink_rs</a></span><span class="out-of-band"><span id="render-detail"><a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class="inner">&#x2212;</span>]</a></span><a class="srclink" href="../src/simulink_rs/lib.rs.html#1-243" title="goto source code">[src]</a></span></h1><div class="docblock"><h1 id="rust-bindings-for-simulink-c-control-system" class="section-header"><a href="#rust-bindings-for-simulink-c-control-system">Rust bindings for Simulink C control system</a></h1>
<p>This is an interface to import and to run a controller designed with Simulink inside Rust</p>
<h2 id="example" class="section-header"><a href="#example">Example</a></h2>
<p>A Simulink model named <code>SimControl</code> with 1 input <code>SimIn1</code> of size 6 and 1 output <code>SimOut1</code> of size 3 is imported into Rust with:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="macro">import_simulink</span><span class="macro">!</span>(<span class="ident">SimControl</span>, <span class="ident">U</span> : (<span class="ident">SimIn1</span>,<span class="number">6</span>), <span class="ident">Y</span> : (<span class="ident">SimOut1</span>,<span class="number">3</span>))
<span class="macro">build_inputs</span><span class="macro">!</span>(<span class="ident">In1</span>,<span class="number">6</span>)
<span class="macro">build_inputs</span><span class="macro">!</span>(<span class="ident">Out1</span>,<span class="number">3</span>)
<span class="macro">build_controller</span><span class="macro">!</span>(<span class="ident">SimControl</span>, <span class="ident">U</span>: (<span class="ident">SimIn1</span> <span class="op">-</span><span class="op">&gt;</span> (<span class="ident">In1</span>,<span class="ident">in1</span>)), <span class="ident">Y</span>: (<span class="ident">SimOut1</span> <span class="op">-</span><span class="op">&gt;</span> (<span class="ident">Out1</span>,<span class="ident">out1</span>)))</pre></div>
<p>A more complex example is the mapping of a single input and a single output of a Simulink controller to multiple inputs and outputs in rust.
<code>SimControl</code> has now 1 input <code>SimIn1</code> of size 14 and 1 output <code>SimOut1</code>of size 20.
<code>SimIn1</code> is mapped to 3 Rust inputs <code>In1</code>, <code>In2</code> and <code>In3</code> of sizes 6, 4 and 4, respectively.
<code>SimOut1</code> is mapped to 3 Rust outputs <code>Out1</code>, <code>Out2</code> and <code>Out3</code> of sizes 12, 4 and 4, respectively.
The rust binding is:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="macro">import_simulink</span><span class="macro">!</span>(<span class="ident">SimControl</span>, <span class="ident">U</span> : (<span class="ident">SimIn1</span>,<span class="number">14</span>), <span class="ident">Y</span> : (<span class="ident">SimOut1</span>,<span class="number">20</span>))
<span class="macro">build_inputs</span><span class="macro">!</span>(<span class="ident">In1</span>, <span class="number">14</span>, <span class="number">0</span>, <span class="ident">In2</span>, <span class="number">14</span>, <span class="number">6</span>, <span class="ident">In3</span>, <span class="number">14</span>, <span class="number">10</span>)
<span class="macro">build_inputs</span><span class="macro">!</span>(<span class="ident">Out1</span>, <span class="number">20</span>, <span class="number">12</span>, <span class="number">0</span>, <span class="ident">Out2</span>, <span class="number">20</span>, <span class="number">4</span>, <span class="number">12</span>, <span class="ident">Out3</span>, <span class="number">20</span>, <span class="number">4</span>, <span class="number">16</span>)
<span class="macro">build_controller</span><span class="macro">!</span>(<span class="ident">SimControl</span>,
                  <span class="ident">U</span>: (<span class="ident">SimIn1</span> <span class="op">-</span><span class="op">&gt;</span> (<span class="ident">In1</span>,<span class="ident">in1</span>),
                      <span class="ident">SimIn2</span> <span class="op">-</span><span class="op">&gt;</span> (<span class="ident">In2</span>,<span class="ident">in2</span>),
                      <span class="ident">SimIn3</span> <span class="op">-</span><span class="op">&gt;</span> (<span class="ident">In3</span>,<span class="ident">in3</span>)),
                  <span class="ident">Y</span>: (<span class="ident">SimOut1</span> <span class="op">-</span><span class="op">&gt;</span> (<span class="ident">Out1</span>,<span class="ident">out1</span>),
                      <span class="ident">SimOut2</span> <span class="op">-</span><span class="op">&gt;</span> (<span class="ident">Out2</span>,<span class="ident">out2</span>),
                      <span class="ident">SimOut3</span> <span class="op">-</span><span class="op">&gt;</span> (<span class="ident">Out3</span>,<span class="ident">out3</span>)))</pre></div>
<p>For the inputs, the mapping consists in the size of the Simulink input and the index in the Simulink input where the Rust inputs start.
For the outputs, the mapping consists in the size of the Simulink input, the size of the Rust outputs and the index in the Simulink output where the rust outputs start.</p>
</div><h2 id="macros" class="section-header"><a href="#macros">Macros</a></h2>
<table><tr class="module-item"><td><a class="macro" href="macro.build_controller.html" title="simulink_rs::build_controller macro">build_controller</a></td><td class="docblock-short"><p>Build the controller</p>
</td></tr><tr class="module-item"><td><a class="macro" href="macro.build_inputs.html" title="simulink_rs::build_inputs macro">build_inputs</a></td><td class="docblock-short"><p>Build the controller inputs</p>
</td></tr><tr class="module-item"><td><a class="macro" href="macro.build_outputs.html" title="simulink_rs::build_outputs macro">build_outputs</a></td><td class="docblock-short"><p>Build the controller outputs</p>
</td></tr><tr class="module-item"><td><a class="macro" href="macro.import_simulink.html" title="simulink_rs::import_simulink macro">import_simulink</a></td><td class="docblock-short"><p>Import Simulink C definitions</p>
</td></tr></table><h2 id="traits" class="section-header"><a href="#traits">Traits</a></h2>
<table><tr class="module-item"><td><a class="trait" href="trait.Simulink.html" title="simulink_rs::Simulink trait">Simulink</a></td><td class="docblock-short"></td></tr></table></section><section id="search" class="content hidden"></section><section class="footer"></section><div id="rustdoc-vars" data-root-path="../" data-current-crate="simulink_rs" data-search-js="../search-index.js"></div>
    <script src="../main.js"></script></body></html>